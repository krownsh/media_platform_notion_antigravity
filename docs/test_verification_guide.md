# 系統功能測試驗證指南 (Test Verification Guide)

本文件旨在指導開發者與測試人員如何驗證近期實作的核心功能，包含併發處理、任務中心、連結擷取以及佈局優化。

## 1. 併發處理與穩定性測試 (Concurrency Testing)
**目的**：驗證系統是否能穩定地同時處理多個擷取任務，且不發生資料污染。

### 測試步驟：
1. **多網址連續輸入**：
   - 準備 3~5 個不同的 Threads 或 Twitter 貼文網址。
   - 在輸入框中快速連續貼上並點擊送出（或一次貼上多行網址，若支援）。
2. **驗證動態骨架屏**：
   - 確認畫面上是否同時出現多個「骨架卡片 (Skeleton Card)」。
   - 觀察狀態文字是否分別顯示「排隊中...」、「抓取內容中...」與「AI 分析中...」。
3. **驗證隔離性**：
   - 待所有任務完成後，點擊進入各個貼文詳情。
   - 確認 A 貼文的內容、圖片或連結是否正確，沒有夾雜 B 貼文的資料。

---

## 2. 任務中心 UI 測試 (Task Center Verification)
**目的**：驗證全域任務管理器的互動流暢度與功能正確性。

### 測試步驟：
1. **切換功能**：
   - 點擊右下角的**浮動活動圖示 (FAB)**。
   - 驗證「任務中心」抽屜是否平滑滑出。
   - 再次點擊或點擊頂部 X 按鈕確認關閉。
2. **狀態提示**：
   - 在任務執行時，驗證 FAB 上的**數字紅標 (Badge)** 是否正確顯示進行中任務總數。
   - 驗證抽屜內的任務圖示（旋轉 Loader、時鐘、警告圖示）是否與當前狀態匹配。
3. **錯誤重試機制**：
   - *（模擬錯誤）*：輸入一個無效的網址（例如 `https://threads.net/invalid-post`）。
   - 當任務顯示為「擷取失敗」時，點擊任務項目中的**「重試」**按鈕。
   - 確認任務是否重新進入「排隊中」狀態。
4. **清理功能**：
   - 點擊失敗任務旁的「清除」按鈕，確認該項目從列表中消失。

---

## 3. 連結擷取功能測試 (Link Extraction)
**目的**：驗證系統是否能從社交媒體貼文中準確提取引用的外部連結。

### 測試步驟：
1. **Threads 連結測試**：
   - 找尋一篇內文中含有外部連結（如 `https://www.bbc.com/...`）或帶有「連結預覽卡片」的 Threads 貼文。
   - 進行擷取後，查看該貼文的原始資料（或在 `full_json` 中確認）。
   - 驗證 `extracted_links` 陣列中是否包含該 URL。
2. **Twitter 連結測試**：
   - 擷取一篇含有新聞連結（Twitter 通常會縮址為 `t.co`）的貼文。
   - 驗證擷取結果中，`content` 內的連結是否已被展開為原始網址，且 `extracted_links` 已正確解析。

---

## 4. 全寬佈局優化測試 (Layout & Grid)
**目的**：驗證介面在不同解析度下的自適應能力。

### 測試步驟：
1. **寬螢幕自適應**：
   - 使用 1920px 以上的螢幕解析度開啟系統。
   - 確認「未分類貼文」區域的卡片是否自動排滿整列（不再是原本固定 3 列並居中的模式）。
   - 確認卡片寬度是否略微增加（最大 400px）以減少視覺間隙。
2. **拖拽動畫對齊**：
   - 將一張卡片拖拽至上方的「資料夾」中。
   - 驗證「吸入動畫」的中心點是否精準對齊資料夾中心（驗證 400px 寬度的偏移計算是否正確）。
3. **響應式斷點**：
   - 縮小瀏覽器視窗，驗證網格是否自動調整列數（如從 4 列變為 2 列、1 列）。

---

## 預期結果
- 所有處理中的任務不應互相干擾。
- 任務中心能實時反映系統後端的處理負載。
- 貼文中的關鍵外部連結（Links）在擷取後需保持完整。
- 瀑布流網格在寬螢幕下應展現出「現代化、空間利用率高」的 Premium 感。
